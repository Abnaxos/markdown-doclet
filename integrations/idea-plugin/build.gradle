configurations {
    packaged
}

version = componentBaseVersion + '-0' + snapshot(true)

dependencies {
    compile docletProject

    compileOnly files(
            ['openapi', 'extensions', 'idea', 'util', 'annotations', 'forms_rt'].
                    collect { baseName -> "$ideaHome/lib/${baseName}.jar" })
    compileOnly libs.jdkTools

    packaged docletProject
}

tasks.jar {
    exclude 'com/intellij/uiDesigner/**'
    configurations.packaged.collect { p ->
        from(zipTree(p)) {
            exclude 'META-INF/**'
        }
    }
}
